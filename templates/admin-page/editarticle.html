<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Article</title>
    <link rel="icon" href="{{ url_for('static', filename='images/nall_logo.png') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300&family=Open+Sans&display=swap" rel="stylesheet">

  
</head>

<body class="d-flex flex-column min-vh-100">
    <!--MAIN CONTENT-->
    <div class="container mt-2">
        <h2 class="text-center mt-3">Edit Article</h2>
        <form class="pt-5" id="form" method="post" onsubmit = "return checkPub()"> <!--FORM ADD ARTICLE-->
            <div class="form-group row text-end">
                <label class="col-sm-2 col-form-label">Article Title:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" name="articleTitle" value="{{articleVal['articleTitle']}}" required>
                </div>
            </div>
            <div class="form-group row mt-3 text-end">
                <label class="col-sm-2 col-form-label">Author</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" name="author" value="{{articleVal['author']}}" required>
                </div>
            </div>
            <div class="form-group row mt-3 text-end">
                <label class="col-sm-2 col-form-label">Journal Title:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" name="journalTitle" value="{{articleVal['journalTitle']}}" required>
                </div>
            </div>
            <div class="form-group row mt-3 text-end">
                <label class="col-sm-2 col-form-label">Author Email:</label>
                <div class="col-sm-10">
                    <input type="email" class="form-control" name="authorEmail" value="{{articleVal['authorEmail']}}" required>
                </div>
            </div>
            <div class="form-group row mt-3 text-end">
                <label class="col-sm-2 col-form-label">Abstract</label>
                <div class="col-sm-10">
                    <textarea class="form-control" name="abstract" rows="3" required>{{articleVal['abstract']}}</textarea>
                </div>
            </div>
            <div class="form-group row mt-3 text-end">
                <label class="col-sm-2 col-form-label">Page:</label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" name="page" min="1" value="{{articleVal['page']}}" required>
                </div>
            </div>
            <div class="form-group row mt-3 text-end">
                <label class="col-sm-2 col-form-label">Date Published:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" name="date" id="datepicker" style="background: transparent;" value="{{articleVal['date']}}" required readonly>
                </div>
            </div>

            <div class="form-group row mt-3 text-end">
                <label class="col-sm-2 col-form-label">Institution:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" name="institution" value="{{articleVal['institution']}}" required>
                </div>
            </div>
            <div class="form-group row mt-3 text-end">
                <label class="col-sm-2 col-form-label">URL:</label>
                <div class="col-sm-10">
                    <input type="url" class="form-control" name="url" value="{{articleVal['url']}}" required>
                </div>
            </div>
            <div class="form-group row mt-3 text-end">
                <label class="col-sm-2 col-form-label">DOI:</label>
                <div class="col-sm-10">
                    <input type="url" class="form-control" name="doi" value="{{articleVal['doi']}}" required>
                </div>
            </div>
            <div class="form-group row mt-3 text-end">
                <label class="col-sm-2 col-form-label">Publication Type:</label>
                <div class="col-sm-10">
                    <select name="pubType" class="form-select" required>
                        <option selected disabled>--Select Publication Type--</option>
                        <option value="Dissertation">Dissertation</option>
                        <option value="Journal">Journal</option>
                        <option value="Book">Book</option>
                        <option value="Proceedings">Proceedings</option>
                        <option value="Readings">Readings</option>
                        <option value="Research Project">Research Project</option>
                    </select>
                </div>
            </div>
            <div class="form-group row mt-3 text-end">
                <div class="col-10">

                </div>
                <input type="submit" class="btn btn-primary float-end mt-3 mr-3 col" value="Save"  style="background-color: #863084;"> 
                <input type="reset" onclick="clear()" class="btn btn-primary float-end mt-3 btn-mar col" value="Clear"  style="background-color: #863084;">
            </div>
           
    </div>
    <input type="hidden" name="key" value="{{key}}">
    </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous">
    </script>
    <link href = "https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css"
        rel = "stylesheet">
    <script src = "https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src = "https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <script>
        $( function() {
            $( "#datepicker" ).datepicker({
                maxDate: "now",
                dateFormat: 'yy-mm-dd'
            });
        } );

        function checkPub(){
            let sel = document.querySelector('.form-select')
            if (sel.value === "--Select Publication Type--"){
                alert('Please select Publication Type!');
                return false;
            }   
            return true;
        }
    </script>
</body>

</html>